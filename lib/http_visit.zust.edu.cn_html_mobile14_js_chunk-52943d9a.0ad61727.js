(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52943d9a"],{"1d07":function(t,e,s){},"3ba1":function(t,e,s){t.exports=s.p+"img/refuseTwo.5fe1f237.png"},"3e49":function(t,e,s){},"4fcf":function(t,e,s){"use strict";s("149f");var a=s("906c"),i=s("a18c");const r=(t,e)=>{i["a"].push({path:"/record/detail",query:{id:t,num:e}})},o=()=>{i["a"].push({path:"/"})},n=(t=-1)=>{i["a"].go(t)},c=()=>{i["a"].push({path:"/record/successful"})},l=()=>{i["a"].push({path:"/record/succeed"})},u=(t,e="phone")=>{let s={source:e};a["a"].isEmpty(t)||(s.recordId=t),i["a"].push({path:"/record/apply",query:s})},d=t=>{a["a"].isEmpty(t)?o():r(t)},p={login:()=>{i["a"].push({path:"/visitor/login"})},record:()=>{i["a"].push({path:"/visitor/record"})},result:t=>{i["a"].push({path:"/visitor/result",query:{id:t}})}};e["a"]={Visitor:p,goDetail:r,goHome:o,goBack:n,goRecordSuccessful:c,goRecordSucceed:l,goRecordApply:u,homeDetail:d}},"528a":function(t,e,s){"use strict";var a=function(){var t=this,e=t._self._c;return e("flex",{staticClass:"wraps",attrs:{direction:"column"}},[t._l(t.shuju,(function(s,a){return e("flex",{key:a,staticClass:"item",style:{"border-top":"5px solid "+s.borderTop},attrs:{direction:"column"},on:{click:function(e){return t.goDetail(s)}}},[e("flex",[e("flex",{staticClass:"label"},[t._v("访客姓名")]),e("flex",{staticStyle:{width:"0"},attrs:{"item-grow":1}},[t._v(t._s(s.name||"未填写"))])],1),e("flex",[e("flex",{staticClass:"label"},[t._v("手机号码")]),e("flex",{staticStyle:{width:"0"},attrs:{"item-grow":1}},[t._v(t._s(s.phone))])],1),e("flex",[e("flex",{staticClass:"label"},[t._v("访问时间")]),e("flex",{staticStyle:{width:"0"},attrs:{"item-grow":1}},[t._v(t._s(s.startEnd))])],1),e("flex",[e("flex",{staticClass:"label"},[t._v("审核状态")]),e("flex",{style:{color:""+s.borderTop,width:0},attrs:{"item-grow":1}},[t._v(" "+t._s(s.statusText)+" ")])],1),e("div",{staticClass:"state"},[e("img",{attrs:{src:s.statusImg,alt:""}})])],1)})),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],staticClass:"jia",on:{click:t.loadMore}},[t._v("点击加载更多")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore,expression:"!hasMore"}],staticClass:"meiyou"},[t._v("没有更多啦")])],2)},i=[],r=s("2c56"),o=s("4fcf"),n=s("bcb3"),c=s("906c");const l={"wait-fill":"待填写","wait-visit":"待受访人审核","wait-invite":"待邀请人审核","wait-depart":"待部门审核","wait-leader":"待领导审核",finished:"审核通过",refused:"已拒绝",canceled:"已取消"};var u={name:"ApplyList",data(){return{shuju:[],hasMore:!0,between:"",num:0}},props:["api","keyword","status","beginTime","finishTime","onItemClick"],created(){this.gainList(),"/app/record/userPageList"==this.api?this.num=1:this.num=0},watch:{status(t,e){t!=e&&this.gainList()}},methods:{goDetail(t){this.onItemClick?this.onItemClick(t):o["a"].goDetail(t.id,this.num)},loadMore(){this.gainList(this.shuju.length)},gainList(t=0){var e;n["a"].loading({message:"加载数据中",duration:0}),!c["a"].isEmpty(this.beginTime)&&c["a"].isEmpty(this.finishTime)?this.between="wr.createTime="+this.beginTime+" 00:00:00,"+this.finishTime+" 23:59:59":this.between="",r["a"].get(null!==(e=this.api)&&void 0!==e?e:"/app/record/pageList",{params:{start:t,keyword:this.keyword,status:this.status,between:this.between}}).then(e=>{if(n["a"].clear(),200==e.code){let a=[];a=0==t?e.data:this.shuju.concat(e.data),this.hasMore=10==e.data.length,this.shuju=a.map(t=>{let e="",a="";"finished"==t.status?(e=s("5aa7"),a="#44D7B6"):"wait-fill"==t.status||"wait-visit"==t.status||"wait-invite"==t.status||"wait-depart"==t.status||"wait-leader"==t.status||"canceled"==t.status?(e=s("ce2a"),a="rgba(89, 173, 255, 1)"):"refused"==t.status&&(e=s("3ba1"),a="#E36969");let i="未填写";var r,o;t.accessTime&&(i=(null===(r=t.accessTime)||void 0===r?void 0:r.substr(0,10))+" ~ "+(null===(o=t.overTime)||void 0===o?void 0:o.substr(0,10)));return{...t,statusImg:e,borderTop:a,startEnd:i,statusText:l[t.status]}})}else Object(r["b"])(e)})}}},d=u,p=(s("9f51"),s("e607")),h=Object(p["a"])(d,a,i,!1,null,"48e36584",null);e["a"]=h.exports},"5aa7":function(t,e,s){t.exports=s.p+"img/through.4225a9de.png"},"9f51":function(t,e,s){"use strict";s("3e49")},ce2a:function(t,e,s){t.exports=s.p+"img/unreviewed.44ecd0c2.png"},eca7:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrap"},[e("div",{staticClass:"tabTwo"},[e("div",{staticClass:"tabTwo_div1"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],staticClass:"inp",staticStyle:{"font-size":"13px"},attrs:{placeholder:"输入访问人名字、手机号搜索",type:"text"},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}})]),e("div",{staticClass:"tabTwo_div2",on:{click:t.screen}},[t._v("搜索")])]),e("MyZi",{ref:"myZi",attrs:{keyword:t.keyword,api:"/app/record/invite/page"}})],1)},i=[],r=s("528a"),o={components:{MyZi:r["a"]},data(){return{isFlag:!1,keyword:""}},methods:{screen(){this.$refs.myZi.gainList()}}},n=o,c=(s("feb2"),s("e607")),l=Object(c["a"])(n,a,i,!1,null,"36552c82",null);e["default"]=l.exports},feb2:function(t,e,s){"use strict";s("1d07")}}]);