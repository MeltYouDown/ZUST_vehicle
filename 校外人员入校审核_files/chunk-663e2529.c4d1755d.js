(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-663e2529"],{"3ba1":function(t,e,s){t.exports=s.p+"img/refuseTwo.5fe1f237.png"},"3e49":function(t,e,s){},"4fcf":function(t,e,s){"use strict";s("149f");var i=s("906c"),a=s("a18c");const r=(t,e)=>{a["a"].push({path:"/record/detail",query:{id:t,num:e}})},o=()=>{a["a"].push({path:"/"})},c=(t=-1)=>{a["a"].go(t)},n=()=>{a["a"].push({path:"/record/successful"})},l=()=>{a["a"].push({path:"/record/succeed"})},u=(t,e="phone")=>{let s={source:e};i["a"].isEmpty(t)||(s.recordId=t),a["a"].push({path:"/record/apply",query:s})},d=t=>{i["a"].isEmpty(t)?o():r(t)},h={login:()=>{a["a"].push({path:"/visitor/login"})},record:()=>{a["a"].push({path:"/visitor/record"})},result:t=>{a["a"].push({path:"/visitor/result",query:{id:t}})}};e["a"]={Visitor:h,goDetail:r,goHome:o,goBack:c,goRecordSuccessful:n,goRecordSucceed:l,goRecordApply:u,homeDetail:d}},"528a":function(t,e,s){"use strict";var i=function(){var t=this,e=t._self._c;return e("flex",{staticClass:"wraps",attrs:{direction:"column"}},[t._l(t.shuju,(function(s,i){return e("flex",{key:i,staticClass:"item",style:{"border-top":"5px solid "+s.borderTop},attrs:{direction:"column"},on:{click:function(e){return t.goDetail(s)}}},[e("flex",[e("flex",{staticClass:"label"},[t._v("访客姓名")]),e("flex",{staticStyle:{width:"0"},attrs:{"item-grow":1}},[t._v(t._s(s.name||"未填写"))])],1),e("flex",[e("flex",{staticClass:"label"},[t._v("手机号码")]),e("flex",{staticStyle:{width:"0"},attrs:{"item-grow":1}},[t._v(t._s(s.phone))])],1),e("flex",[e("flex",{staticClass:"label"},[t._v("访问时间")]),e("flex",{staticStyle:{width:"0"},attrs:{"item-grow":1}},[t._v(t._s(s.startEnd))])],1),e("flex",[e("flex",{staticClass:"label"},[t._v("审核状态")]),e("flex",{style:{color:""+s.borderTop,width:0},attrs:{"item-grow":1}},[t._v(" "+t._s(s.statusText)+" ")])],1),e("div",{staticClass:"state"},[e("img",{attrs:{src:s.statusImg,alt:""}})])],1)})),e("div",{directives:[{name:"show",rawName:"v-show",value:t.hasMore,expression:"hasMore"}],staticClass:"jia",on:{click:t.loadMore}},[t._v("点击加载更多")]),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasMore,expression:"!hasMore"}],staticClass:"meiyou"},[t._v("没有更多啦")])],2)},a=[],r=s("2c56"),o=s("4fcf"),c=s("bcb3"),n=s("906c");const l={"wait-fill":"待填写","wait-visit":"待受访人审核","wait-invite":"待邀请人审核","wait-depart":"待部门审核","wait-leader":"待领导审核",finished:"审核通过",refused:"已拒绝",canceled:"已取消"};var u={name:"ApplyList",data(){return{shuju:[],hasMore:!0,between:"",num:0}},props:["api","keyword","status","beginTime","finishTime","onItemClick"],created(){this.gainList(),"/app/record/userPageList"==this.api?this.num=1:this.num=0},watch:{status(t,e){t!=e&&this.gainList()}},methods:{goDetail(t){this.onItemClick?this.onItemClick(t):o["a"].goDetail(t.id,this.num)},loadMore(){this.gainList(this.shuju.length)},gainList(t=0){var e;c["a"].loading({message:"加载数据中",duration:0}),!n["a"].isEmpty(this.beginTime)&&n["a"].isEmpty(this.finishTime)?this.between="wr.createTime="+this.beginTime+" 00:00:00,"+this.finishTime+" 23:59:59":this.between="",r["a"].get(null!==(e=this.api)&&void 0!==e?e:"/app/record/pageList",{params:{start:t,keyword:this.keyword,status:this.status,between:this.between}}).then(e=>{if(c["a"].clear(),200==e.code){let i=[];i=0==t?e.data:this.shuju.concat(e.data),this.hasMore=10==e.data.length,this.shuju=i.map(t=>{let e="",i="";"finished"==t.status?(e=s("5aa7"),i="#44D7B6"):"wait-fill"==t.status||"wait-visit"==t.status||"wait-invite"==t.status||"wait-depart"==t.status||"wait-leader"==t.status||"canceled"==t.status?(e=s("ce2a"),i="rgba(89, 173, 255, 1)"):"refused"==t.status&&(e=s("3ba1"),i="#E36969");let a="未填写";var r,o;t.accessTime&&(a=(null===(r=t.accessTime)||void 0===r?void 0:r.substr(0,10))+" ~ "+(null===(o=t.overTime)||void 0===o?void 0:o.substr(0,10)));return{...t,statusImg:e,borderTop:i,startEnd:a,statusText:l[t.status]}})}else Object(r["b"])(e)})}}},d=u,h=(s("9f51"),s("e607")),p=Object(h["a"])(d,i,a,!1,null,"48e36584",null);e["a"]=p.exports},"5aa7":function(t,e,s){t.exports=s.p+"img/through.4225a9de.png"},6119:function(t,e,s){},"9f51":function(t,e,s){"use strict";s("3e49")},c768:function(t,e,s){"use strict";s("6119")},ce2a:function(t,e,s){t.exports=s.p+"img/unreviewed.44ecd0c2.png"},ff9e:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("flex",{staticClass:"bg",attrs:{direction:"column"}},[e("ApplyList",{ref:"myZi",attrs:{"on-item-click":t.onItemClick,api:"/app/visitor/record"}})],1)},a=[],r=s("528a"),o=s("4fcf"),c={components:{ApplyList:r["a"]},data(){return{}},created(){},methods:{onItemClick(t){"wait-fill"==t.status?o["a"].goRecordApply(t.id,t.source):"finished"==t.status?o["a"].Visitor.result(t.id):o["a"].goDetail(t.id,2)}}},n=c,l=(s("c768"),s("e607")),u=Object(l["a"])(n,i,a,!1,null,"7f211af4",null);e["default"]=u.exports}}]);